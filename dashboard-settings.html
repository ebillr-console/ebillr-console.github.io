<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EBilir | Settings</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Local Fonts -->
    <link rel="stylesheet" href="assets/css/fonts.css">
    <!-- Local Styles -->
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/dashboard-settings.css">
</head>

<body>
    <!-- Mobile Header -->
    <div class="mobile-header">
        <button class="mobile-menu-btn" id="mobileMenuBtn">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16">
                </path>
            </svg>
        </button>
        <div class="mobile-logo flex items-center">
            <div class="logo-text text-xl font-bold">EBilir</div>
        </div>
        <div class="flex items-center gap-2">
            <!-- User menu removed from top right as requested -->
        </div>
    </div>

    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobileOverlay"></div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="logo mb-8 flex items-center">
            <div class="logo-text text-2xl font-bold">EBilir</div>
        </div>

        <div class="menu">
            <div class="menu-item" onclick="window.location.href='dashboard.html'">
                <img src="assets/icons/chart-area.svg" class="menu-icon" alt="Dashboard">
                <span>Dashboard</span>
            </div>
            <div class="menu-item">
                <img src="assets/icons/file-text.svg" class="menu-icon" alt="Invoices">
                <span>Invoices</span>
            </div>
            <div class="menu-item">
                <img src="assets/icons/store.svg" class="menu-icon" alt="Reports">
                <span>Reports</span>
            </div>
            <div class="menu-item">
                <img src="assets/icons/cloud-cog.svg" class="menu-icon" alt="Cloud Storage">
                <span>Cloud Storage</span>
            </div>
            <div class="menu-item active">
                <img src="assets/icons/settings.svg" class="menu-icon" alt="Settings">
                <span>Settings</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Settings Header -->
        <div class="settings-header">
            <h1 class="settings-title">Settings</h1>
            <p class="settings-subtitle">Manage & Modify All Your Preferences Here.</p>
        </div>

        <!-- Appearance Section -->
        <div class="settings-section">
            <div class="settings-group-header">
                <h2 class="settings-group-title">Appearance</h2>
                <p class="settings-group-subtitle">Theme automatically follows your system preference. You can manually
                    override it below.</p>
            </div>

            <div class="theme-buttons">
                <button class="theme-button" id="lightThemeButton">
                    <img src="assets/icons/sun.svg" class="w-5 h-5 theme-icon" alt="Light Mode">
                    <span>Light Mode</span>
                </button>
                <button class="theme-button" id="darkThemeButton">
                    <img src="assets/icons/moon.svg" class="w-5 h-5 theme-icon" alt="Dark Mode">
                    <span>Dark Mode</span>
                </button>
            </div>
        </div>

        <!-- Region Section -->
        <div class="settings-section">
            <div class="settings-group-header">
                <h2 class="settings-group-title">Region & Localization</h2>
                <p class="settings-group-subtitle">Switch to your home country in order to apply auto preset data
                    formats.</p>
            </div>

            <div class="card">
                <!-- Current Time Display with Loading Animation -->
                <div class="current-time-display" id="currentTimeDisplay">
                    <!-- iOS Loading Animation Overlay -->
                    <div class="ios-loading-overlay hidden" id="regionLoadingOverlay">
                        <div class="spinner-container">
                            <div class="spinner-box">
                                <div class="spinner">
                                    <div class="bar1"></div>
                                    <div class="bar2"></div>
                                    <div class="bar3"></div>
                                    <div class="bar4"></div>
                                    <div class="bar5"></div>
                                    <div class="bar6"></div>
                                    <div class="bar7"></div>
                                    <div class="bar8"></div>
                                    <div class="bar9"></div>
                                    <div class="bar10"></div>
                                    <div class="bar11"></div>
                                    <div class="bar12"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Live Data Container -->
                    <div class="live-data-container" id="liveDataContainer">
                        <!-- Region -->
                        <div class="live-data-item">
                            <div class="live-data-icon-container">
                                <img src="assets/icons/map-pin-house.svg" class="live-data-icon" alt="Region">
                            </div>
                            <div class="live-data-content">
                                <div class="live-data-value" id="regionValue">India</div>
                            </div>
                        </div>

                        <!-- Currency -->
                        <div class="live-data-item">
                            <div class="live-data-icon-container">
                                <img src="assets/icons/indian-rupee.svg" class="live-data-icon" id="currencyIcon"
                                    alt="Currency">
                            </div>
                            <div class="live-data-content">
                                <div class="live-data-value" id="currencyValue">INR</div>
                            </div>
                        </div>

                        <!-- Date -->
                        <div class="live-data-item">
                            <div class="live-data-icon-container">
                                <img src="assets/icons/calendar-days.svg" class="live-data-icon" alt="Date">
                            </div>
                            <div class="live-data-content">
                                <div class="live-data-value" id="dateValue">05/11/25</div>
                            </div>
                        </div>

                        <!-- Time -->
                        <div class="live-data-item">
                            <div class="live-data-icon-container">
                                <img src="assets/icons/clock-12.svg" class="live-data-icon" id="clockIcon" alt="Time">
                            </div>
                            <div class="live-data-content">
                                <div class="live-data-value" id="timeValue">11:34 PM</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Country</label>
                        <div class="custom-dropdown-container">
                            <div class="custom-dropdown" id="countryDropdown">
                                <div class="custom-dropdown-header">
                                    <span class="custom-dropdown-selected">India</span>
                                    <img src="assets/icons/chevron-down.svg" class="custom-dropdown-arrow"
                                        alt="Dropdown">
                                </div>
                                <!-- FIXED: Added hidden class to dropdown options -->
                                <div class="custom-dropdown-options hidden">
                                    <div class="custom-dropdown-option" data-value="IN">India</div>
                                    <div class="custom-dropdown-option" data-value="US">United States</div>
                                </div>
                            </div>
                            <select class="styled-select hidden" id="countrySelect">
                                <option value="IN">India</option>
                                <option value="US">United States</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Currency</label>
                        <div class="currency-display-container">
                            <div class="currency-display" id="currencyDisplay">
                                INR - Indian Rupee (â‚¹)
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Date Format</label>
                        <div class="custom-dropdown-container">
                            <div class="custom-dropdown" id="dateFormatDropdown">
                                <div class="custom-dropdown-header">
                                    <span class="custom-dropdown-selected">DD/MM/YY</span>
                                    <img src="assets/icons/chevron-down.svg" class="custom-dropdown-arrow"
                                        alt="Dropdown">
                                </div>
                                <!-- FIXED: Added hidden class to dropdown options -->
                                <div class="custom-dropdown-options hidden">
                                    <div class="custom-dropdown-option" data-value="DD-MM-YYYY">DD-MM-YYYY</div>
                                    <div class="custom-dropdown-option" data-value="DD/MM/YY">DD/MM/YY</div>
                                    <div class="custom-dropdown-option" data-value="DD/MM/YYYY">DD/MM/YYYY</div>
                                    <div class="custom-dropdown-option" data-value="DD MMM YYYY">DD MMM YYYY</div>
                                </div>
                            </div>
                            <select class="styled-select hidden" id="dateFormatSelect">
                                <option value="DD-MM-YYYY">DD-MM-YYYY</option>
                                <option value="DD/MM/YY" selected>DD/MM/YY</option>
                                <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                                <option value="DD MMM YYYY">DD MMM YYYY</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Time Format</label>
                        <div class="custom-dropdown-container">
                            <div class="custom-dropdown" id="timeFormatDropdown">
                                <div class="custom-dropdown-header">
                                    <span class="custom-dropdown-selected">12-hour (AM/PM)</span>
                                    <img src="assets/icons/chevron-down.svg" class="custom-dropdown-arrow"
                                        alt="Dropdown">
                                </div>
                                <!-- FIXED: Added hidden class to dropdown options -->
                                <div class="custom-dropdown-options hidden">
                                    <div class="custom-dropdown-option" data-value="12h">12-hour (AM/PM)</div>
                                    <div class="custom-dropdown-option" data-value="24h">24-hour</div>
                                </div>
                            </div>
                            <select class="styled-select hidden" id="timeFormatSelect">
                                <option value="12h">12-hour (AM/PM)</option>
                                <option value="24h">24-hour</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Invoice Fields Section -->
        <div class="settings-section">
            <div class="settings-group-header">
                <h2 class="settings-group-title">Invoice Billing Fields</h2>
                <p class="settings-group-subtitle">Modify the required fields for your invoice bills.</p>
            </div>

            <div class="card">
                <div class="invoice-list">
                    <!-- Name Field -->
                    <div class="field-option">
                        <span class="field-label">Name</span>
                        <div class="field-controls">
                            <label class="custom-checkbox">
                                <input type="checkbox" class="field-checkbox" id="fieldName" checked>
                                <span class="checkmark"></span>
                            </label>
                            <button class="delete-existing-field" data-field="fieldName">
                                <img src="assets/icons/trash.svg" class="w-4 h-4 field-icon" alt="Delete">
                            </button>
                        </div>
                    </div>

                    <!-- Price Field -->
                    <div class="field-option">
                        <span class="field-label">Price</span>
                        <div class="field-controls">
                            <label class="custom-checkbox">
                                <input type="checkbox" class="field-checkbox" id="fieldPrice" checked>
                                <span class="checkmark"></span>
                            </label>
                            <button class="delete-existing-field" data-field="fieldPrice">
                                <img src="assets/icons/trash.svg" class="w-4 h-4 field-icon" alt="Delete">
                            </button>
                        </div>
                    </div>

                    <!-- Weight Field -->
                    <div class="field-option">
                        <span class="field-label">Weight</span>
                        <div class="field-controls">
                            <label class="custom-checkbox">
                                <input type="checkbox" class="field-checkbox" id="fieldWeight">
                                <span class="checkmark"></span>
                            </label>
                            <button class="delete-existing-field" data-field="fieldWeight">
                                <img src="assets/icons/trash.svg" class="w-4 h-4 field-icon" alt="Delete">
                            </button>
                        </div>
                    </div>

                    <!-- Quantity Field -->
                    <div class="field-option">
                        <span class="field-label">Quantity</span>
                        <div class="field-controls">
                            <label class="custom-checkbox">
                                <input type="checkbox" class="field-checkbox" id="fieldQuantity">
                                <span class="checkmark"></span>
                            </label>
                            <button class="delete-existing-field" data-field="fieldQuantity">
                                <img src="assets/icons/trash.svg" class="w-4 h-4 field-icon" alt="Delete">
                            </button>
                        </div>
                    </div>

                    <!-- Custom fields will be inserted here -->

                    <!-- Add Custom Field Section with Inline Input -->
                    <div class="add-custom-field">
                        <div class="custom-field-input-container">
                            <input type="text" class="custom-field-input-inline" id="customFieldInputInline"
                                placeholder="Type field name..." maxlength="50">
                        </div>
                        <button class="add-field-btn" id="addCustomField" disabled>
                            <img src="assets/icons/circle-fading-arrow-up.svg" class="w-4 h-4 add-field-icon" alt="Add">
                            <span>Add Field</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stay Updated Section -->
        <div class="settings-section">
            <div class="settings-group-header">
                <h2 class="settings-group-title">Stay Updated</h2>
                <p class="settings-group-subtitle">Get All News At Fingertips</p>
            </div>

            <div class="card">
                <div class="updates-section">
                    <div class="updates-content">
                        <div class="updates-info">
                            <p class="updates-title">View Update Changelogs, Learn About New Features, Bug Fixes &
                                Exciting Updates Coming Soon.</p>
                            <p class="updates-description">
                                We're Constantly Working To Elevate User Experience!
                            </p>
                        </div>
                        <div class="updates-actions">
                            <button class="btn btn-primary no-hover"
                                onclick="window.location.href='ebillr-changelogs.html'">
                                <img src="assets/icons/newspaper.svg" class="w-4 h-4 action-icon" alt="View Changelogs">
                                View Changelogs
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- User Profile Section -->
        <div class="settings-section">
            <div class="settings-group-header">
                <h2 class="settings-group-title">User Profile</h2>
                <p class="settings-group-subtitle">More controls</p>
            </div>

            <div class="card">
                <!-- User Profile Content -->
                <div class="user-profile-content" id="userProfileContent">
                    <div class="user-profile-section">
                        <div class="user-avatar">
                            <img src="assets/icons/circle-user-round.svg" class="w-6 h-6 user-icon" alt="User">
                        </div>
                        <div class="user-info">
                            <div class="user-name" id="userName">User Name</div>
                            <div class="user-email" id="userEmail">user@example.com</div>
                        </div>
                    </div>

                    <div class="profile-actions">
                        <button class="btn btn-outline">
                            <img src="assets/icons/square-pen.svg" class="w-4 h-4 action-icon" alt="Edit Profile">
                            Edit Profile
                        </button>
                        <button class="btn btn-outline" id="logoutBtn">
                            <img src="assets/icons/log-out.svg" class="w-4 h-4 action-icon" alt="Log Out">
                            Log Out
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons (Not in a card) -->
        <div class="action-buttons">
            <button class="action-button action-button-outline" id="cancelSettings">Cancel</button>
            <button class="action-button action-button-primary" id="saveSettings">Save</button>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="delete-confirmation-modal" id="deleteConfirmationModal">
        <div class="modal-backdrop"></div>
        <div class="delete-confirmation-content">
            <div class="delete-confirmation-icon">
                <img src="assets/icons/trash.svg" class="w-6 h-6 modal-icon" alt="Delete">
            </div>
            <h3 class="delete-confirmation-title">Delete Field</h3>
            <p class="delete-confirmation-message">Are you sure you want to delete this field?</p>
            <p class="delete-confirmation-warning">This action cannot be undone.</p>
            <div class="delete-confirmation-divider"></div>
            <div class="delete-confirmation-actions">
                <button class="delete-confirmation-btn cancel" id="cancelDelete">Cancel</button>
                <button class="delete-confirmation-btn confirm" id="confirmDelete">Delete</button>
            </div>
        </div>
    </div>

    <!-- Duplicate Field Modal -->
    <div class="duplicate-field-modal" id="duplicateFieldModal">
        <div class="modal-backdrop"></div>
        <div class="duplicate-field-content">
            <div class="duplicate-field-icon">
                <img src="assets/icons/copy.svg" class="w-6 h-6 modal-icon" alt="Duplicate">
            </div>
            <h3 class="duplicate-field-title">Duplicate Field</h3>
            <p class="duplicate-field-message">A field with this name already exists.</p>
            <p class="duplicate-field-suggestion">Please choose a different name for your field.</p>
            <div class="duplicate-field-divider"></div>
            <div class="duplicate-field-actions">
                <button class="duplicate-field-btn confirm" id="confirmDuplicate">OK</button>
            </div>
        </div>
    </div>

    <!-- Load our JavaScript files -->
    <script src="assets/js/common.js"></script>
    <script src="assets/js/dashboard-settings.js"></script>
</body>

</html>